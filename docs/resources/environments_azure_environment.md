---
page_title: "cdp_environments_azure_environment Resource - terraform-provider-cdp"
subcategory: "environments"
description: |-
  The environment is a logical entity that represents the association of your user account with multiple compute resources using which you can provision and manage workloads.
---

# cdp_environments_azure_environment (Resource)

The environment is a logical entity that represents the association of your user account with multiple compute resources using which you can provision and manage workloads.

## Example Usage

```terraform
## Copyright 2023 Cloudera. All Rights Reserved.
#
# This file is licensed under the Apache License Version 2.0 (the "License").
# You may not use this file except in compliance with the License.
# You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.
#
# This file is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS
# OF ANY KIND, either express or implied. Refer to the License for the specific
# permissions and limitations governing your use of the file.

resource "cdp_environments_azure_credential" "example-cred" {
  credential_name = "example-cdp-azure-credential"
  subscription_id = "<value>"
  tenant_id       = "<value>"
  app_based = {
    application_id = "<value>"
    secret_key     = "<value>"
  }
  description = "Example Azure Credential"
}

resource "cdp_environments_azure_environment" "example-env" {
  environment_name = "example-cdp-azure-environment"
  credential_name  = cdp_environments_azure_credential.example-cred.credential_name
  region           = "us-west"
  security_access = {
    cidr = "0.0.0.0/0"
  }
  existing_network_params = {
    network_id          = "network-name"
    resource_group_name = "rg-name"
    subnet_ids          = ["subnet.id"]
  }
  public_key = "my-key"
  log_storage = {
    storage_location_base = "abfs://rgname-fs@rgname-storage.dfs.core.windows.net"
    managed_identity      = "/subscriptions/123e4567-e89b-12d3-a456-426614174000/resourcegroups/my-rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/logger"
  }
  resource_group_name = "rg-name"
  use_public_ip       = true
}

output "environment_name" {
  value = cdp_environments_azure_environment.example-env.environment_name
}

output "crn" {
  value = cdp_environments_azure_environment.example-env.crn
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `credential_name` (String)
- `environment_name` (String)
- `log_storage` (Attributes) (see [below for nested schema](#nestedatt--log_storage))
- `public_key` (String)
- `region` (String)
- `security_access` (Attributes) (see [below for nested schema](#nestedatt--security_access))
- `use_public_ip` (Boolean)

### Optional

- `create_private_endpoints` (Boolean)
- `description` (String)
- `enable_outbound_load_balancer` (Boolean)
- `enable_tunnel` (Boolean)
- `encryption_key_resource_group_name` (String)
- `encryption_key_url` (String)
- `endpoint_access_gateway_scheme` (String) The scheme for the endpoint gateway. PUBLIC creates an external endpoint that can be accessed over the Internet. Defaults to PRIVATE which restricts the traffic to be internal to the VPC.
- `endpoint_access_gateway_subnet_ids` (Set of String)
- `existing_network_params` (Attributes) (see [below for nested schema](#nestedatt--existing_network_params))
- `freeipa` (Attributes) (see [below for nested schema](#nestedatt--freeipa))
- `new_network_params` (Attributes) (see [below for nested schema](#nestedatt--new_network_params))
- `proxy_config_name` (String)
- `report_deployment_logs` (Boolean)
- `resource_group_name` (String)
- `tags` (Map of String)
- `workload_analytics` (Boolean)

### Read-Only

- `crn` (String)
- `id` (String) The ID of this resource.
- `status` (String)
- `status_reason` (String)

<a id="nestedatt--log_storage"></a>
### Nested Schema for `log_storage`

Required:

- `managed_identity` (String)
- `storage_location_base` (String)

Optional:

- `backup_storage_location_base` (String)


<a id="nestedatt--security_access"></a>
### Nested Schema for `security_access`

Optional:

- `cidr` (String)
- `default_security_group_id` (String)
- `default_security_group_ids` (Set of String)
- `security_group_id_for_knox` (String)
- `security_group_ids_for_knox` (Set of String)


<a id="nestedatt--existing_network_params"></a>
### Nested Schema for `existing_network_params`

Required:

- `network_id` (String)
- `resource_group_name` (String)
- `subnet_ids` (Set of String)

Optional:

- `aks_private_dns_zone_id` (String)
- `database_private_dns_zone_id` (String)


<a id="nestedatt--freeipa"></a>
### Nested Schema for `freeipa`

Optional:

- `catalog` (String)
- `image_id` (String)
- `instance_count_by_group` (Number)
- `instance_type` (String)
- `recipes` (Set of String)


<a id="nestedatt--new_network_params"></a>
### Nested Schema for `new_network_params`

Required:

- `network_cidr` (String)