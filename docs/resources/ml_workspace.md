---
page_title: "cdp_ml_workspace Resource - terraform-provider-cdp"
subcategory: "Machine Learning"
description: |-
  
---

# cdp_ml_workspace (Resource)



## Example Usage

```terraform
## Copyright 2024 Cloudera. All Rights Reserved.
#
# This file is licensed under the Apache License Version 2.0 (the "License").
# You may not use this file except in compliance with the License.
# You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.
#
# This file is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS
# OF ANY KIND, either express or implied. Refer to the License for the specific
# permissions and limitations governing your use of the file.

resource "cdp_ml_workspace" "example" {
  environment_name = var.environment_name
  workspace_name   = "example-ws"
  provision_k8s_request = {
    instance_groups = [
      {
        instance_type = var.instance_type
        root_volume = {
          size = 128
        }
        autoscaling = {
          min_instances = 1
          max_instances = 5
        }
      }
    ],
    environment_name = var.environment_name
  }

  disable_tls              = false
  use_public_load_balancer = false
  private_cluster          = false

  enable_monitoring    = true
  enable_governance    = false
  enable_model_metrics = true

  whitelist_authorized_ip_ranges = false

  skip_validation = false
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `environment_name` (String) The environment for the workspace to create.
- `provision_k8s_request` (Attributes) The request for Kubernetes workspace provision. Required in public cloud. (see [below for nested schema](#nestedatt--provision_k8s_request))
- `workspace_name` (String) The name of the workspace to create.

### Optional

- `authorized_ip_ranges` (Set of String) The whitelist of CIDR blocks which can access the API server.
- `cdsw_migration_mode` (String) Toggle for cdsw migration preflight validation
- `disable_tls` (Boolean) The boolean flag to disable TLS setup for workspace. By default, the TLS is enabled.
- `enable_governance` (Boolean) Enables Cloudera Machine Learning governance by integrating with Cloudera Atlas. By default, this flag is disabled.
- `enable_model_metrics` (Boolean) Enables the model metrics service for exporting metrics for models to a metrics store.
- `enable_monitoring` (Boolean) The boolean flag is used to enable monitoring. By default, monitoring is disabled.
- `existing_database_config` (Attributes) Optional configurations for an existing Postgres to export model metrics to. (see [below for nested schema](#nestedatt--existing_database_config))
- `existing_nfs` (String) Optionally use an existing NFS by providing the hostname and desired path (Azure and Private Cloud only).
- `load_balancer_ip_whitelists` (Set of String) The whitelist of IPs for load balancer.
- `ml_version` (String) The version of ML workload app to install.
- `nfs_version` (String) The NFS Protocol version of the NFS server we are using for Azure and Private Cloud.
- `outbound_types` (Set of String) Outbound Types provided for the workspace.
- `private_cluster` (Boolean) Whether to create a private cluster.
- `skip_validation` (Boolean) Skip pre-flight validations if requested.
- `static_subdomain` (String) The static subdomain to be used for the workspace.
- `subnets_for_load_balancers` (Set of String) The list of subnets used for the load balancer that CML creates.
- `use_public_load_balancer` (Boolean) The boolean flag to request public load balancer. By default, private load balancer is used.
- `whitelist_authorized_ip_ranges` (Boolean) Whether to whitelist only 'authorizedIPRanges' given or all public IPs.

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedatt--provision_k8s_request"></a>
### Nested Schema for `provision_k8s_request`

Required:

- `environment_name` (String) The name of the environment for the workspace to create.
- `instance_groups` (Attributes Set) The instance groups. (see [below for nested schema](#nestedatt--provision_k8s_request--instance_groups))

Optional:

- `network` (Attributes) The overlay network for an AWS Kubernetes cluster's CNI. (see [below for nested schema](#nestedatt--provision_k8s_request--network))
- `tags` (Attributes Set) Tags to add to the cloud provider resources created. This is in addition to any tags added by Cloudera. (see [below for nested schema](#nestedatt--provision_k8s_request--tags))

<a id="nestedatt--provision_k8s_request--instance_groups"></a>
### Nested Schema for `provision_k8s_request.instance_groups`

Required:

- `instance_type` (String) The cloud provider instance type for the node instance.

Optional:

- `autoscaling` (Attributes) The auto scaling configuration. (see [below for nested schema](#nestedatt--provision_k8s_request--instance_groups--autoscaling))
- `ingress_rules` (Set of String) The networking rules for the ingress.
- `instance_count` (Number) The initial number of instance node.
- `instance_tier` (String) The tier of the instance i.e. on-demand/spot.
- `name` (String) The unique name of the instance group.
- `root_volume` (Attributes) The root volume of the instance. (see [below for nested schema](#nestedatt--provision_k8s_request--instance_groups--root_volume))

<a id="nestedatt--provision_k8s_request--instance_groups--autoscaling"></a>
### Nested Schema for `provision_k8s_request.instance_groups.autoscaling`

Required:

- `max_instances` (Number) The maximum number of instance for auto scaling.
- `min_instances` (Number) The minimum number of instance for auto scaling.

Optional:

- `enabled` (Boolean) The boolean flag to enable the auto scaling.


<a id="nestedatt--provision_k8s_request--instance_groups--root_volume"></a>
### Nested Schema for `provision_k8s_request.instance_groups.root_volume`

Required:

- `size` (Number) The volume size in GB.



<a id="nestedatt--provision_k8s_request--network"></a>
### Nested Schema for `provision_k8s_request.network`

Optional:

- `plugin` (String) The plugin specifies specific cni vendor, ex: calico, weave etc.
- `topology` (Attributes) The options for overlay topology. (see [below for nested schema](#nestedatt--provision_k8s_request--network--topology))

<a id="nestedatt--provision_k8s_request--network--topology"></a>
### Nested Schema for `provision_k8s_request.network.topology`

Required:

- `subnets` (Set of String) The options for subnets.



<a id="nestedatt--provision_k8s_request--tags"></a>
### Nested Schema for `provision_k8s_request.tags`

Required:

- `key` (String) The name for the tag.
- `value` (String) The value for the tag.



<a id="nestedatt--existing_database_config"></a>
### Nested Schema for `existing_database_config`

Optional:

- `existing_database_host` (String) Optionally provide a Postgresql database host to export model metrics to.
- `existing_database_name` (String) Optionally provide a Postgresql database name to export model metrics to.
- `existing_database_password` (String) Optionally provide a Postgresql database password to use when exporting model metrics.
- `existing_database_port` (String) Optionally provide a Postgresql database port to export model metrics to.
- `existing_database_user` (String) Optionally provide a Postgresql database user to use when exporting model metrics.